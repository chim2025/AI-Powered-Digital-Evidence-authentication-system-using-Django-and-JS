{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EvideHub Dashboard</title>
  <link rel="stylesheet" href="/static/css/dashboard.css" />
  <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <link href="https://fonts.googleapis.com/css2?family=Orbitron&family=Roboto&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  
</head>
<body>
  <div class="sidebar">
    <h1 id="title-header">üîç EvidenceGuard</h1>
    <div class="nav-link active" data-section="home">
        <i class="fas fa-home"></i> Home
      </div>
      <div class="nav-link" data-section="task-wizard">
        <i class="fas fa-compass"></i> Task Wizard
      </div>
      <div class="nav-link" data-section="analytics">
        <i class="fas fa-chart-line"></i> Analytics
      </div>
      <div class="nav-link" data-section="recent-tasks">
        <i class="fas fa-clock"></i> Recent Tasks
      </div>
      <div class="nav-link" data-section="reports">
        <i class="fas fa-file-alt"></i> Reports
      </div>
      <div class="nav-link" data-section="system-info">
        <i class="fas fa-desktop"></i> System Info
      </div>
      <div class="nav-link" data-section="community">
        <i class="fas fa-users"></i> Community
      </div>
      <div class="nav-link" data-section="settings">
        <i class="fas fa-cog"></i> Settings
      </div>
      <div class="nav-link" data-section="support">
        <i class="fas fa-tools"></i> Support
      </div>
      <!-- üîπ Added Logout -->
        <a href="{% url 'logout' %}" class="nav-link">
          <i class="fas fa-sign-out-alt"></i> Logout
        </a>
      
  </div>

  <div class="main-content">
    <div class="header">
        <div class="date" id="datetime"></div>
      
        <div class="system-info-inline">
          <div class="info-item">
            <i class="fas fa-desktop"></i>
            <span id="os-name">OS: <b>{{system_info.os_version}}</b></span>
          </div>
      
          <div class="info-item">
            <i class="fas fa-network-wired"></i>
            <span id="ip-address">Public IP: <b></b></span>
          </div>
          <div class="info-item">
            <i class="fas fa-globe"></i>
            <span id="browser-name">Browser: <b></b></span>
          </div>
        </div>
      
        <div class="avatar">
          <i class="fas fa-user-circle"></i>
        </div>
      </div>
      
    
    <div class="welcome">Welcome, {{user.last_name}} {{user.first_name}}!</div>
    <div class="description">Gain insights into your digital evidence.</div>
    <button class="task-button"><i class="fas fa-compass"></i>Launch Task Wizard</button>
    <div id="taskWizardModal" class="modal">
      <div class="modal-content">
        <div class="progress-bar">
          <div class="progress"></div>
        </div>
    
        <span class="close-btn">&times;</span>
    
        <!-- Step 1 -->
        <div id="wizard-step-1" class="wizard-step active">
          <h2 id="info">üìù Task Information</h2>
        
          <div class="form-group">
            <label for="taskName" id="nameLabel">
              <i class="fas fa-tasks"></i> Evidence Name
            </label>
            <input type="text" placeholder="Input the name of your task here..." id="taskName">
          </div>
        
          <div class="form-group">
            <label for="taskDescription">
              <i class="fas fa-align-left"></i> Evidence Description
            </label>
            <textarea placeholder="The description of your task here..." id="taskDescription"></textarea>
          </div>
        
          <div class="form-group">
            <label for="evidenceDate">
              <i class="fas fa-calendar-alt"></i> Evidence Date
            </label>
            <input type="text" id="evidenceDate" readonly>
          </div>
        
          <div class="wizard-navigation">
            <button id="nextStep">Next</button>
          </div>
        </div>
        
    
        <!-- Step 2 -->
        <div id="wizard-step-2" class="wizard-step">
          <h2>Evidence Upload</h2>
          <div class="upload-box" id="uploadArea">
            <i class="fas fa-cloud-upload-alt upload-icon"></i>
            <p id="uploadText">Click or Drag Files to Upload</p>
            <input type="file" id="evidenceFiles" multiple hidden>
          </div>
    
          <div id="evidencePreview" class="preview-container"></div>
    
          <div class="wizard-navigation">
            <button id="prevStep">Previous</button>
            <button id="startAnalysisBtn" class="start-analysis-btn">Start Analysis</button>
          </div>
        </div>
      </div>
    </div>
    

    


      



    <div class="stats">
      <div class="card">
        <h2>System Memory</h2>
        <div class="value">46%</div>
      </div>
      <div class="card">
        <h2>Total Evidence Reviewed</h2>
        <div class="value">5</div>
      </div>
      <div class="card">
        <h2>Passed</h2>
        <div class="value">0%</div>
      </div>
      <div class="card">
        <h2>Active Tasks</h2>
        <div class="value">0</div>
      </div>
    </div>

    <div class="recent-tasks">
      <h2>Recent Tasks</h2>
      <table>
        <thead>
          <tr>
            <th>Task</th>
            <th>Type</th>
            <th>Date</th>
            <th>Result</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Image Forgery Detection</td>
            <td>Image</td>
            <td>Apr 23, 2024</td>
            <td><span class="status-failed">Failed</span></td>
            <td><button class="view-btn">View</button></td>
          </tr>
          <tr>
            <td>Deepfake Analysis</td>
            <td>Video</td>
            <td>Apr 22, 2024</td>
            <td>Apr 22, 2024</td>
            <td><button class="view-btn">View</button></td>
          </tr>
          <tr>
            <td>Document Authenticity</td>
            <td>PDF</td>
            <td>Apr 22, 2024</td>
            <td>Apr 22</td>
            <td><button class="view-btn">View</button></td>
          </tr>
          <tr>
            <td>Audio Tampering</td>
            <td>Audio</td>
            <td>Apr 21, 2024</td>
            <td>Passed</td>
            <td><button class="view-btn">View</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <section id="settings" class="content-section">
    <h2>‚öôÔ∏è Settings</h2>
    <p>Configure your system preferences below.</p>
  
    <div class="setting-option">
      <h3>üé® Theme Selection</h3>
        <p>Select your preferred theme:</p>
      
      <div class="theme-toggle">
        <label class="toggle-switch">
          <input type="radio" id="theme-light" name="theme" value="light" checked>
          <span>üåû Light</span>
        </label>
        <label class="toggle-switch">
          <input type="radio" id="theme-dark" name="theme" value="dark">
          <span>üåô Dark</span>
        </label>
      </div>
    </div>
  
    <div class="setting-option">
      <h3>üîî Notification Preferences</h3>
        <p>Choose your notification preferences:</p>
      <label class="checkbox-wrap">
        <input type="checkbox" id="email-notifications" checked>
        <span>Enable Inbuilt software alerts</span>
      </label>
      <label class="checkbox-wrap">
        <input type="checkbox" id="system-notifications" checked>
        <span>Enable System Notifications</span>
      </label>
      <label class="toggle-switch">
        <input type="checkbox" id="email-notifications" checked>
        <span class="switch-slider"></span>
        <span>Send me Email notifications</span>
      </label>
    </div>
  
    <div class="setting-option">
      <h3>üîê Account Settings</h3>
      <label class="checkbox-wrap">
        <input type="checkbox" id="email-notifications" checked>
        <span>Apply Profile Change Feature</span>
      </label>
      <label class="checkbox-wrap">
        <input type="checkbox" id="system-notifications" checked>
        <span>Enable Automatic Database Storage</span>
      </label>
      <button id="change-password" onclick="alert('Redirect to change password page')">
        Change Password
      </button>
    </div>
  
    <div class="setting-option">
      <h3>üåê Language Selection</h3>
      <select id="language">
        <option value="en">English</option>
        <option value="es">Espa√±ol</option>
        <option value="fr">Fran√ßais</option>
        <option value="de">Deutsch</option>
      </select>
    </div>
  
    <div class="setting-option">
      <h3>üõ°Ô∏è Privacy Settings</h3>
      <label class="checkbox-wrap">
        <input type="checkbox" id="data-tracking" checked>
        <span>Allow Data Tracking</span>
      </label>
    </div>
  </section>

  <section id="analytics" class="content-section">
    <div id="analytics_section" class="section">
    <div class="no-process">
        <i class="fas fa-clock"></i>
        <p>No analysis currently running.</p>
    </div>
</div>

  </section>

<section id="system-info" class="content-section system-info-section">
  <h2 class="fw"><i class="fas fa-desktop"></i> System Information</h2>
  <div class="system-info-grid">

   <!--- system-info details ... -->
  </div>
</section>

  

  <script type="module" src="/static/js/dashboard.js"></script>
  <script type="module" src="/static/js/evidenceupload.js"></script>
  <script type="module" src="/static/js/renderevidence.js"></script>
  <!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


  <script>
    document.addEventListener('DOMContentLoaded', () => {
      
      const savedTheme = localStorage.getItem('theme');
      const savedLanguage = localStorage.getItem('language');
      const savedEmailNotif = localStorage.getItem('emailNotifications') === 'true';
      const savedSystemNotif = localStorage.getItem('systemNotifications') === 'true';
      const savedTracking = localStorage.getItem('dataTracking') === 'true';
    
      if (savedTheme) {
        document.documentElement.setAttribute('data-theme', savedTheme);
        document.getElementById(`theme-${savedTheme}`).checked = true;
      }
    
      if (savedLanguage) {
        document.getElementById('language').value = savedLanguage;
      }
    
      document.getElementById('email-notifications').checked = savedEmailNotif;
      document.getElementById('system-notifications').checked = savedSystemNotif;
      document.getElementById('data-tracking').checked = savedTracking;
    
   
      document.querySelectorAll('input[name="theme"]').forEach(radio => {
        radio.addEventListener('change', () => {
          const theme = radio.value;
          document.documentElement.setAttribute('data-theme', theme);
          localStorage.setItem('theme', theme);
        });
      });
    
     
      document.getElementById('language').addEventListener('change', (e) => {
        localStorage.setItem('language', e.target.value);
      });
    
      
      const saveToggle = (id, key) => {
        document.getElementById(id).addEventListener('change', (e) => {
          localStorage.setItem(key, e.target.checked);
        });
      };
    
      saveToggle('email-notifications', 'emailNotifications');
      saveToggle('system-notifications', 'systemNotifications');
      saveToggle('data-tracking', 'dataTracking');
    });
    </script>
    <div id="toast"></div>
    
</body>
</html>
